Index: Game/src/main/kotlin/view/GameTwoMapsView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package view\r\n\r\nimport javafx.geometry.Pos\r\nimport javafx.scene.image.Image\r\nimport javafx.scene.image.ImageView\r\nimport javafx.scene.paint.Color\r\nimport javafx.scene.text.FontWeight\r\nimport model.CityModel\r\nimport tornadofx.*\r\nimport viewModel.*\r\nimport viewModel.towerControllers.FlyingTowerController\r\nimport viewModel.towerControllers.GroundTowerController\r\n\r\n\r\nclass GameTwoMapsView(\r\n) : View(\"Bashenki\") {\r\n\r\n    private val moneyController = MoneyController()\r\n    private val cityController = CityController()\r\n    private val ratingController = RatingController()\r\n\r\n    private val enemyMoneyController = MoneyController()\r\n    private val enemyCityController = CityController()\r\n    private val enemyRatingController = RatingController()\r\n\r\n\r\n    private val groundTowerController = GroundTowerController()\r\n    private val flyingTowerController = FlyingTowerController()\r\n\r\n    private val cityModel = CityModel()\r\n    private val enemyCityModel = CityModel()\r\n\r\n\r\n    private val gameController = GameController(\r\n        moneyController, cityController, ratingController, cityModel)\r\n    private val enemyGameController = EnemyGameController(\r\n        enemyMoneyController, enemyCityController, enemyRatingController, enemyCityModel)\r\n\r\n    private val mapView = MapView(gameController)\r\n    private val enemyMapView = EnemyMapView(enemyGameController)\r\n\r\n    private val allGamesView: AllGamesView by inject()\r\n\r\n    private val shopView = ShopView(gameController, moneyController, cityController,\r\n        groundTowerController, flyingTowerController, cityModel, this)\r\n    private val pauseMenuView = PauseMenuView(this)\r\n\r\n    private val moneyIcon = ImageView(Image(resources.url(\"/configs/coin.png\").toString()))\r\n    private val heartIcon = ImageView(Image(resources.url(\"/configs/heart.png\").toString()))\r\n    private val starIcon = ImageView(Image(resources.url(\"/configs/star.png\").toString()))\r\n\r\n    private val enemyMoneyIcon = ImageView(Image(resources.url(\"/configs/coin.png\").toString()))\r\n    private val enemyHeartIcon = ImageView(Image(resources.url(\"/configs/heart.png\").toString()))\r\n    private val enemyStarIcon = ImageView(Image(resources.url(\"/configs/star.png\").toString()))\r\n\r\n    // yours:\r\n    private val moneyLabel = label() {\r\n        style {\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n    }\r\n    private val moneyBackground = stackpane {\r\n        rectangle {\r\n            width = 100.0\r\n            height = 30.0\r\n            fill = Color.WHITE\r\n            arcWidth = 20.0\r\n            arcHeight = 20.0\r\n        }\r\n        add(moneyLabel)\r\n        alignment = Pos.CENTER\r\n    }\r\n    private val cityLabel = label() {\r\n        style {\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n    }\r\n    private val cityBackground = stackpane {\r\n        rectangle {\r\n            width = 100.0\r\n            height = 30.0\r\n            fill = Color.WHITE\r\n            arcWidth = 20.0\r\n            arcHeight = 20.0\r\n        }\r\n        add(cityLabel)\r\n        alignment = Pos.CENTER\r\n    }\r\n    private val ratingLabel = label() {\r\n        style {\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n    }\r\n    private val ratingBackground = stackpane {\r\n        rectangle {\r\n            width = 100.0\r\n            height = 30.0\r\n            fill = Color.WHITE\r\n            arcWidth = 20.0\r\n            arcHeight = 20.0\r\n        }\r\n        add(ratingLabel)\r\n        alignment = Pos.CENTER\r\n    }\r\n\r\n    //enemy's:\r\n    private val enemyMoneyLabel = label() {\r\n        style {\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n    }\r\n    private val enemyMoneyBackground = stackpane {\r\n        rectangle {\r\n            width = 100.0\r\n            height = 30.0\r\n            fill = Color.WHITE\r\n            arcWidth = 20.0\r\n            arcHeight = 20.0\r\n        }\r\n        add(enemyMoneyLabel)\r\n        alignment = Pos.CENTER\r\n    }\r\n    private val enemyCityLabel = label() {\r\n        style {\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n    }\r\n    private val enemyCityBackground = stackpane {\r\n        rectangle {\r\n            width = 100.0\r\n            height = 30.0\r\n            fill = Color.WHITE\r\n            arcWidth = 20.0\r\n            arcHeight = 20.0\r\n        }\r\n        add(enemyCityLabel)\r\n        alignment = Pos.CENTER\r\n    }\r\n    private val enemyRatingLabel = label() {\r\n        style {\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n    }\r\n    private val enemyRatingBackground = stackpane {\r\n        rectangle {\r\n            width = 100.0\r\n            height = 30.0\r\n            fill = Color.WHITE\r\n            arcWidth = 20.0\r\n            arcHeight = 20.0\r\n        }\r\n        add(enemyRatingLabel)\r\n        alignment = Pos.CENTER\r\n    }\r\n\r\n    //private val musicController: MusicController  by inject()\r\n\r\n    init {\r\n        // musicController.playMusic(\"./src/main/resources/music/game_music.mp3\")\r\n\r\n        //yours\r\n        moneyIcon.fitWidth = 35.0\r\n        moneyIcon.fitHeight = 35.0\r\n        moneyLabel.textProperty().bind(moneyController.moneyAmountProperty().asString(\"Money: %d\"))\r\n\r\n        heartIcon.fitWidth = 30.0\r\n        heartIcon.fitHeight = 30.0\r\n        cityLabel.textProperty().bind(cityController.cityProperty().asString(\"City: %d\"))\r\n\r\n        starIcon.fitWidth = 30.0\r\n        starIcon.fitHeight = 30.0\r\n        ratingLabel.textProperty().bind(\r\n            ratingController.ratingProperty().asString(\"Rating: %d\"))\r\n\r\n        //Enemy:\r\n        enemyMoneyIcon.fitWidth = 35.0\r\n        enemyMoneyIcon.fitHeight = 35.0\r\n        enemyMoneyLabel.textProperty().bind(\r\n            enemyMoneyController.moneyAmountProperty().asString(\"Emoney: %d\"))\r\n\r\n        enemyHeartIcon.fitWidth = 30.0\r\n        enemyHeartIcon.fitHeight = 30.0\r\n        enemyCityLabel.textProperty().bind(\r\n            enemyCityController.cityProperty().asString(\"Ecity: %d\"))\r\n\r\n        enemyStarIcon.fitWidth = 30.0\r\n        enemyStarIcon.fitHeight = 30.0\r\n        enemyRatingLabel.textProperty().bind(\r\n            enemyRatingController.ratingProperty().asString(\"Erating: %d\"))\r\n    }\r\n\r\n    val gameOverText = text(\"Game Over\") {\r\n        style {\r\n            fontSize = 48.px\r\n            fill = Color.RED\r\n            fontWeight = FontWeight.BOLD\r\n        }\r\n        visibleProperty().bind(gameController.gameOverProperty())\r\n    }\r\n\r\n\r\n\r\n    override val root = borderpane {\r\n\r\n        addClass(\"game-stack-pane\")\r\n\r\n        add(gameOverText)\r\n\r\n        top {\r\n            hbox {\r\n                alignment = Pos.CENTER\r\n                vbox {\r\n                    alignment = Pos.CENTER\r\n                    hbox {\r\n                        alignment = Pos.CENTER\r\n                        maxWidth = 800.0\r\n\r\n                        addClass(\"game-top-background\")\r\n\r\n                        paddingAll = 10.0\r\n                        spacing = 10.0\r\n\r\n                        button(\"Start Game\") {\r\n                            style {\r\n                                fontSize = 14.px\r\n                                padding = box(5.px, 10.px)\r\n                                paddingAll = 5.0\r\n                                backgroundColor += Color.BLUE\r\n                                textFill = Color.WHITE\r\n                                fontWeight = FontWeight.BOLD\r\n                            }\r\n                            vboxConstraints {\r\n                                marginRight = 10.0\r\n                            }\r\n                            action {\r\n                                startGame()\r\n                            }\r\n                        }\r\n\r\n                        button(\"Pause\") {\r\n                            style {\r\n                                fontSize = 14.px\r\n                                padding = box(5.px, 10.px)\r\n                                backgroundColor += Color.rgb(255, 152, 0)\r\n                                textFill = Color.WHITE\r\n                                fontWeight = FontWeight.BOLD\r\n                            }\r\n                            vboxConstraints {\r\n                                marginRight = 10.0\r\n                            }\r\n                            action {\r\n                                replaceWith(pauseMenuView)\r\n                            }\r\n                        }\r\n\r\n                        button(\"Shop\") {\r\n                            style {\r\n                                fontSize = 14.px\r\n                                padding = box(5.px, 10.px)\r\n                                paddingAll = 5.0\r\n                                backgroundColor += Color.GREEN\r\n                                textFill = Color.WHITE\r\n                                fontWeight = FontWeight.BOLD\r\n                            }\r\n                            vboxConstraints {\r\n                                marginRight = 10.0\r\n                            }\r\n                            action {\r\n                                replaceWith(shopView)\r\n                            }\r\n                        }\r\n\r\n                        button(\"Back to menu\") {\r\n                            style {\r\n                                fontSize = 14.px\r\n                                padding = box(5.px, 10.px)\r\n                                paddingAll = 5.0\r\n                                backgroundColor += Color.BLACK\r\n                                textFill = Color.WHITE\r\n                                fontWeight = FontWeight.BOLD\r\n                            }\r\n                            vboxConstraints {\r\n                                marginRight = 10.0\r\n                            }\r\n                            action {\r\n                                //gameController.stopGame()\r\n                                replaceWith(allGamesView)\r\n                            }\r\n                        }\r\n                        button(\"Send game state\") {\r\n                            style {\r\n                                fontSize = 14.px\r\n                                padding = box(5.px, 10.px)\r\n                                paddingAll = 5.0\r\n                                backgroundColor += Color.RED\r\n                                textFill = Color.WHITE\r\n                                fontWeight = FontWeight.BOLD\r\n                            }\r\n                            vboxConstraints {\r\n                                marginRight = 10.0\r\n                            }\r\n                            action {\r\n                                sendGameState()\r\n                            }\r\n                        }\r\n                        button(\"Get game state\") {\r\n                            style {\r\n                                fontSize = 14.px\r\n                                padding = box(5.px, 10.px)\r\n                                paddingAll = 5.0\r\n                                backgroundColor += Color.RED\r\n                                textFill = Color.WHITE\r\n                                fontWeight = FontWeight.BOLD\r\n                            }\r\n                            vboxConstraints {\r\n                                marginRight = 10.0\r\n                            }\r\n                            action {\r\n                                getGameState()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        center {\r\n            useMaxWidth = true\r\n\r\n            hbox{\r\n                alignment = Pos.CENTER\r\n                spacing = 20.0\r\n                vbox {\r\n                    alignment = Pos.CENTER\r\n                    add(mapView)\r\n                }\r\n                vbox {\r\n                    alignment = Pos.CENTER\r\n                    add(enemyMapView)\r\n                }\r\n            }\r\n        }\r\n\r\n        bottom {\r\n            hbox{\r\n                addClass(\"game-bottom-background\")\r\n                alignment = Pos.BOTTOM_CENTER\r\n                spacing = 30.0\r\n                hbox{\r\n                    spacing = 10.0\r\n                    alignment = Pos.CENTER_LEFT\r\n\r\n                    hbox {\r\n                        hbox {\r\n                            add(moneyIcon)\r\n                            prefWidth = 35.0\r\n                        }\r\n                        add(moneyBackground)\r\n                        alignment = Pos.TOP_RIGHT\r\n                    }\r\n\r\n                    hbox {\r\n                        add(heartIcon)\r\n                        add(cityBackground)\r\n                        alignment = Pos.TOP_RIGHT\r\n                    }\r\n\r\n                    hbox {\r\n                        add(starIcon)\r\n                        add(ratingBackground)\r\n                        alignment = Pos.TOP_RIGHT\r\n                    }\r\n                }\r\n\r\n                //enemy:\r\n                hbox{\r\n                    spacing = 10.0\r\n                    alignment = Pos.CENTER_RIGHT\r\n\r\n                    hbox {\r\n                        hbox {\r\n                            add(enemyMoneyIcon)\r\n                            prefWidth = 35.0\r\n                        }\r\n                        add(enemyMoneyBackground)\r\n                        alignment = Pos.TOP_RIGHT\r\n                    }\r\n\r\n                    hbox {\r\n                        add(enemyHeartIcon)\r\n                        add(enemyCityBackground)\r\n                        alignment = Pos.TOP_RIGHT\r\n                    }\r\n\r\n                    hbox {\r\n                        add(enemyStarIcon)\r\n                        add(enemyRatingBackground)\r\n                        alignment = Pos.TOP_RIGHT\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private fun startGame() {\r\n        gameController.setMyMapView(mapView)\r\n        enemyGameController.setMapView(enemyMapView)\r\n\r\n        gameController.startGameWithWaves()\r\n    }\r\n\r\n\r\n    private fun sendGameState() {\r\n        gameController.sendGameState()\r\n    }\r\n\r\n    private fun getGameState() {\r\n        enemyGameController.receiveGameState()\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Game/src/main/kotlin/view/GameTwoMapsView.kt b/Game/src/main/kotlin/view/GameTwoMapsView.kt
--- a/Game/src/main/kotlin/view/GameTwoMapsView.kt	(revision 1ce12f0dd465b285e85cba943446e0321d93a207)
+++ b/Game/src/main/kotlin/view/GameTwoMapsView.kt	(date 1718951054000)
@@ -346,6 +346,7 @@
                 addClass("game-bottom-background")
                 alignment = Pos.BOTTOM_CENTER
                 spacing = 30.0
+
                 hbox{
                     spacing = 10.0
                     alignment = Pos.CENTER_LEFT
